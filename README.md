# LyTalk-LG

🎈 WordPress対応の軽量チャットプラグイン  
**管理者が在席中だったら返事が返ってくるかもしれない気軽なチャットUIを実現。**
ユーザーがライト（気軽）にWEBページの担当とコミュニケーション。動作もライト（軽量）でLyTalk★（らいとーく）。

---

## ✅ 現在の機能

- [x] 匿名でもチャット投稿可能（名前＋色指定）
- [x] WordPress管理者は `[管理者]` として識別される
- [x] 投稿メッセージはDBに保存され、ページ下部に表示される
- [x] ショートコード `[lightalk]` で任意のページにチャットUIを表示

---

## 💡 利用シーン（こんな場面で使えます）

- 🏢 **小規模な企業・事業サイト**で「担当者が在席中なら返事するよ」的なチャット窓口として
- 💬 **ポートフォリオサイト**で「感想・応援メッセージをもらえる掲示板」として
- 📚 **勉強会サイトやLTイベントページ**で「匿名質問箱」的な役割として
- 🧑‍🤝‍🧑 **コミュニティサイト**で「いま誰か居るかな？」的な軽いトークスペースとして
- 🧪 **開発中のプラグイン・テーマのテスト用チャットUI**としても使えます

> 💬 「お問合せフォームよりハードル低く、リアルタイムチャットほど重くない」  
> そんな“中間”を狙った設計です。

---

## 📦 使い方（導入方法）

1. プラグインディレクトリへアップロード：

    ```
    /wp-content/plugins/LyTalk-LG/
    ```

2. WordPress管理画面から **プラグインを有効化**

3. 任意のページや投稿に以下のショートコードを挿入：

    ```
    [lytalk]
    ```

---

## 🖼️ スクリーンショット

![Lightalk UI Screenshot](screenshots/screenshot.jpg)

---

## 🛠 開発環境

- WordPress プラグイン開発（WP-CLIテンプレートベース）
- `wp scaffold plugin lytalk-lg` で雛形生成し、機能ごとにディレクトリを整理
- Ajax通信 / jQueryポーリング / ショートコード対応 / 非ログイン投稿可
---

## 🔐 セキュリティ対策

- WordPressのNonceを用いて、Ajax通信の正当性を検証
- `wp_localize_script()` でJS側に `nonce` を渡し、PHP側では `check_ajax_referer()` にて確認
- 投稿データはサニタイズ処理を通して、XSSやSQLインジェクションを防止


## ⚙️ 技術スタックと方針

- フロント側は **jQueryベースで構築**しています（WordPressに標準で含まれているため）
- ReactやVueと比べて**軽量かつ導入が簡単**で、保守性とのバランスが取りやすい構成です
- Ajax通信は `admin-ajax.php` を利用し、疑似リアルタイム表示にも対応予定です

> ✅ Lytalkのような“軽量・単機能チャットプラグイン”には、jQueryがぴったりの選択肢です。


---

## 🧩 今後の予定

- [✓] Ajax対応でリロードなし送信＆表示
- [ ] 管理者による在席／離席トグル
- [ ] localStorage によるユーザー情報保持
- [ ] メッセージ削除機能（投稿者のみ）
- [ ] UIスタイル改善（CSSバッジ、ログ整形など）

---

## ✨ キャッチコピー

> Lytalk｜気軽に話しかけられるチャット  
> 担当が“いま席にいて手が空いていれば”、そのままお返事できます。

---

## 🧑‍💻 開発者

Leon.C: https://lazygenius.dev  
GitHub: [@Leon20200809](https://github.com/Leon20200809)
